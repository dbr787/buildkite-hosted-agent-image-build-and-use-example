FROM node:20-alpine

# Add a verification file to prove this is our custom image
RUN echo "CUSTOM_BUILDKITE_IMAGE_$(date +%s)" > /custom-image-marker

# Install just git for basic functionality
RUN apk add --no-cache git

# Set environment variable for verification
ENV CUSTOM_IMAGE_BUILD=true

# Default command
CMD ["/bin/sh"]
